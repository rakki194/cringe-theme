/* 
 * Theme Override CSS
 * This file provides styles that override the system preference
 * when a user explicitly chooses a theme
 */

/* Light theme styles that override system preference - added !important to ensure it overrides */
html.theme-light {
  --gray-100: #f8f9fa !important;
  --gray-200: #e9ecef !important;
  --gray-500: #adb5bd !important;
  --color-link: #1e66f5 !important;
  --color-visited-link: #8839ef !important;
  --body-background: #eff1f5 !important;
  --body-font-color: #4c4f69 !important;
  --icon-filter: none !important;
  --hint-color-info: #1e66f5 !important;
  --hint-color-warning: #dc8a78 !important;
  --hint-color-danger: #d20f39 !important;
  
  background-color: #eff1f5 !important;
  color: #4c4f69 !important;
}

/* Dark theme styles that override system preference - added !important to ensure it overrides */
html.theme-dark {
  --gray-100: #313244 !important;
  --gray-200: #45475a !important;
  --gray-500: #6c7086 !important;
  --color-link: #89b4fa !important;
  --color-visited-link: #cba6f7 !important;
  --body-background: #1e1e2e !important;
  --body-font-color: #cdd6f4 !important;
  --icon-filter: brightness(0) invert(1) !important;
  --hint-color-info: #89b4fa !important;
  --hint-color-warning: #fab387 !important;
  --hint-color-danger: #f38ba8 !important;
  
  background-color: #1e1e2e !important;
  color: #cdd6f4 !important;
}

/* Additional styles for syntax highlighting based on user preference */
html.theme-light .highlight {
  background-color: var(--body-background) !important;
}

html.theme-dark .highlight {
  background-color: var(--body-background) !important;
}

/* Make sure code blocks use theme colors too */
html.theme-light pre {
  background-color: var(--gray-100) !important;
  color: #313244 !important; /* Darker text for better contrast in light mode */
}

html.theme-light code {
  color: #313244 !important; /* Darker text for inline code in light mode */
}

html.theme-dark pre {
  background-color: var(--gray-100) !important;
}

/* Body elements must also have correct background and color */
html.theme-light body {
  background-color: #eff1f5 !important;
  color: #4c4f69 !important;
}

html.theme-dark body {
  background-color: #1e1e2e !important;
  color: #cdd6f4 !important;
}

/* Theme toggle button styles for different states */
html.theme-light #theme-toggle:hover {
  transform: scale(1.05);
  opacity: 0.9;
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}

html.theme-dark #theme-toggle:hover {
  transform: scale(1.05);
  opacity: 0.9;
  box-shadow: 0 6px 12px rgba(0,0,0,0.25);
}

html.theme-auto #theme-toggle:hover {
  transform: scale(1.05);
  opacity: 0.9;
  box-shadow: 0 6px 12px rgba(0,0,0,0.2);
}

/* Auto theme styles that follow system preference */
html.theme-auto {
  @media (prefers-color-scheme: light) {
    --gray-100: #f8f9fa !important;
    --gray-200: #e9ecef !important;
    --gray-500: #adb5bd !important;
    --color-link: #1e66f5 !important;
    --color-visited-link: #8839ef !important;
    --body-background: #eff1f5 !important;
    --body-font-color: #4c4f69 !important;
    --icon-filter: none !important;
    --hint-color-info: #1e66f5 !important;
    --hint-color-warning: #dc8a78 !important;
    --hint-color-danger: #d20f39 !important;
    
    background-color: #eff1f5 !important;
    color: #4c4f69 !important;
  }
  
  @media (prefers-color-scheme: dark) {
    --gray-100: #313244 !important;
    --gray-200: #45475a !important;
    --gray-500: #6c7086 !important;
    --color-link: #89b4fa !important;
    --color-visited-link: #cba6f7 !important;
    --body-background: #1e1e2e !important;
    --body-font-color: #cdd6f4 !important;
    --icon-filter: brightness(0) invert(1) !important;
    --hint-color-info: #89b4fa !important;
    --hint-color-warning: #fab387 !important;
    --hint-color-danger: #f38ba8 !important;
    
    background-color: #1e1e2e !important;
    color: #cdd6f4 !important;
  }
}

/* Auto theme specific elements */
html.theme-auto body {
  @media (prefers-color-scheme: light) {
    background-color: #eff1f5 !important;
    color: #4c4f69 !important;
  }
  
  @media (prefers-color-scheme: dark) {
    background-color: #1e1e2e !important;
    color: #cdd6f4 !important;
  }
}

html.theme-auto .highlight {
  @media (prefers-color-scheme: light) {
    background-color: var(--body-background) !important;
  }
  
  @media (prefers-color-scheme: dark) {
    background-color: var(--body-background) !important;
  }
}

html.theme-auto pre {
  @media (prefers-color-scheme: light) {
    background-color: var(--gray-100) !important;
    color: #313244 !important; /* Darker text for better contrast in light mode */
  }
  
  @media (prefers-color-scheme: dark) {
    background-color: var(--gray-100) !important;
  }
}

html.theme-auto code {
  @media (prefers-color-scheme: light) {
    color: #313244 !important; /* Darker text for inline code in light mode */
  }
}

/* Mermaid overrides for auto theme (system preference) */
html.theme-auto {
  @media (prefers-color-scheme: dark) {
    .mermaid .icon,
    .mermaid .node-icon,
    .mermaid [class*='icon'],
    .mermaid [class*='Icon'],
    .mermaid [class*='node-icon'],
    .mermaid .edgePath,
    .mermaid .edgeLabel,
    .mermaid .arrowhead,
    .mermaid path,
    .mermaid line,
    .mermaid marker {
      fill: #cdd6f4 !important;
      stroke: #cdd6f4 !important;
    }
  }
  @media (prefers-color-scheme: light) {
    .mermaid .icon,
    .mermaid .node-icon,
    .mermaid [class*='icon'],
    .mermaid [class*='Icon'],
    .mermaid [class*='node-icon'],
    .mermaid .edgePath,
    .mermaid .edgeLabel,
    .mermaid .arrowhead,
    .mermaid path,
    .mermaid line,
    .mermaid marker {
      fill: #313244 !important;
      stroke: #313244 !important;
    }
  }
}

/* Mermaid icon and node symbol overrides for dark mode */
html.theme-dark .mermaid .icon,
html.theme-dark .mermaid .node-icon,
html.theme-dark .mermaid [class*='icon'],
html.theme-dark .mermaid [class*='Icon'],
html.theme-dark .mermaid [class*='node-icon'] {
  fill: #cdd6f4 !important;
  stroke: #cdd6f4 !important;
}

html.theme-light .mermaid .icon,
html.theme-light .mermaid .node-icon,
html.theme-light .mermaid [class*='icon'],
html.theme-light .mermaid [class*='Icon'],
html.theme-light .mermaid [class*='node-icon'] {
  fill: #313244 !important;
  stroke: #313244 !important;
}

/* Mermaid arrow and edge overrides for dark mode */
html.theme-dark .mermaid .edgePath,
html.theme-dark .mermaid .edgeLabel,
html.theme-dark .mermaid .arrowhead,
html.theme-dark .mermaid path,
html.theme-dark .mermaid line,
html.theme-dark .mermaid marker {
  stroke: #cdd6f4 !important;
  fill: #cdd6f4 !important;
}

html.theme-light .mermaid .edgePath,
html.theme-light .mermaid .edgeLabel,
html.theme-light .mermaid .arrowhead,
html.theme-light .mermaid path,
html.theme-light .mermaid line,
html.theme-light .mermaid marker {
  stroke: #313244 !important;
  fill: #313244 !important;
} 